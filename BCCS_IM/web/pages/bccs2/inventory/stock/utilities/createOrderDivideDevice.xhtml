<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:cbs="http://java.sun.com/jsf/composite/tags"
        template="../../../sentinel/template.xhtml">
    <ui:define name="title">#{lang['mn.stock.utilities.order.divide.device']}</ui:define>
    <ui:define name="featureName">#{lang['mn.stock.utilities.order.divide.device']}</ui:define>
    <ui:define name="content">
        <h:form id="frmChangeDOA">
            <p:outputPanel styleClass="Container" rendered="#{createOrderDivideDeviceController.showSearch}">
                <!--Start tim kiem-->
                <p:outputPanel styleClass="Container" id="pnSearch">
                    <div class="ContainerIndent mg-top-0">
                        <p:messages id="mesages" showSummary="false" showDetail="true" closable="true"/>
                    </div>
                    <p:outputPanel styleClass="Container" rendered="#{!createOrderDivideDeviceController.viewDetailDivideDevice}">
                        <p:outputPanel styleClass="ContainerIndent">
                            <p:focus for="pnSearch"/>
                            <cbs:panel classForToggle="pnSearch" toggle="true"
                                       titleHeader="#{lang['mn.stock.limit.info.range.time.promotion']}"/>
                            <p:outputPanel styleClass="Container pnSearch" id="pnViewData">
                                <div class="ContainerIndent mg-top-0">
                                    <div class="Container33 Responsive">
                                        <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                            <p:outputLabel styleClass="lb-sentinel"
                                                           value="#{lang['stock.rescue.warranty.stock.rescue.request.code']}"
                                                           for="requestCodeTxt"/>
                                        </div>
                                        <div class="Container60 Responsive50 ui-fluid">
                                            <p:inputText id="requestCodeTxt"
                                                         maxlength="50"
                                                         onblur="this.value = this.value.trim();"
                                                         value="#{createOrderDivideDeviceController.stockRequestDTOSearch.requestCode}"
                                                         placeholder="#{lang['stock.rescue.warranty.stock.rescue.request.code.placeholder']}"/>
                                        </div>
                                    </div>
                                    <div class="Container33 Responsive">
                                        <div class="Container40 Responsive50  mg-left-15 pd-top-7">
                                            <p:outputLabel value="#{lang['create.note.from.date']}"
                                                           styleClass="lb-sentinel"
                                                           for="fromDate"/>
                                        </div>
                                        <div class="Container60 Responsive50  ui-fluid">
                                            <p:calendar
                                                    mask="true"
                                                    pattern="#{lang['common.datetime.format']}"
                                                    converterMessage="#{lang['invalid.date.message']}"
                                                    validatorMessage="#{lang['start.date.validate.message']}"
                                                    value="#{createOrderDivideDeviceController.stockRequestDTOSearch.fromDate}"
                                                    placeholder="#{lang['common.datetime.format']}"
                                                    required="true"
                                                    requiredMessage="#{lang['mn.stock.from.date.not.blank']}"
                                                    styleClass="fromDate"
                                                    id="fromDate">
                                                <f:convertDateTime type="date"
                                                                   pattern="#{lang['common.datetime.format']}"/>
                                            </p:calendar>
                                            <p:message for="fromDate"/>
                                        </div>
                                    </div>
                                    <div class="Container33 Responsive">
                                        <div class="Container40 Responsive50 mg-left-15 pd-top-7">
                                            <p:outputLabel value="#{lang['create.note.to.date']}" for="toDate"
                                                           styleClass="lb-sentinel"/>
                                        </div>
                                        <div class="Container60 Responsive50 ui-fluid">
                                            <p:calendar id="toDate"
                                                        mask="true"
                                                        pattern="#{lang['common.datetime.format']}"
                                                        converterMessage="#{lang['invalid.date.message']}"
                                                        validatorMessage="#{lang['start.date.validate.message']}"
                                                        value="#{createOrderDivideDeviceController.stockRequestDTOSearch.toDate}"
                                                        required="true"
                                                        styleClass="toDate"
                                                        placeholder="#{lang['create.note.to.date.placeholder']}"
                                                        requiredMessage="#{lang['mn.stock.to.date.not.blank']}">
                                                <f:convertDateTime type="date"
                                                                   pattern="#{lang['common.datetime.format']}"/>
                                            </p:calendar>
                                            <p:message for="toDate"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="ContainerIndent mg-top-0">
                                    <div class="Container33 Responsive">
                                        <div class="Container40 Responsive50 mg-left-15  pd-top-4">
                                            <p:outputLabel styleClass="lb-sentinel"
                                                           value="#{lang['common.status']}"/>
                                        </div>
                                        <div class="Container60 Responsive50 ui-fluid ">
                                            <p:selectOneMenu id="status"
                                                             value="#{createOrderDivideDeviceController.stockRequestDTOSearch.status}">
                                                <f:selectItem itemLabel="#{lang['common.selectOneMenu.select']}"
                                                              escape="true"/>
                                                <f:selectItem itemLabel="#{lang['mn.stock.branch.btn.create.request']}"
                                                              itemValue="0"/>
                                                <f:selectItem itemLabel="#{lang['debit.request.status3']}"
                                                              itemValue="1"/>
                                                <f:selectItem itemLabel="#{lang['debit.select.status0']}"
                                                              itemValue="2"/>
                                            </p:selectOneMenu>
                                        </div>
                                    </div>
                                    <!--<div class="Container33 Responsive">
                                        <div class="Container40 Responsive50 mg-left-15 ui-fluid pd-top-7">
                                            <p:outputLabel styleClass="lb-sentinel"
                                                           value="#{lang['type.stock']}"
                                                           for="cbChangeTypeSearch"/>
                                        </div>
                                        <div class="Container60 Responsive50 ui-fluid">
                                            <p:selectOneMenu id="cbChangeTypeSearch" required="true"
                                                             value="#{createOrderChangeDOAController.stockRequestDTOSearch.ownerType}">
                                                <f:selectItem itemLabel="#{lang['stock.trans.ui.stocktype.unit']}"
                                                              itemValue="1"/>
                                                <f:selectItem itemLabel="#{lang['stock.trans.ui.stocktype.staff']}"
                                                              itemValue="2"/>
                                                <p:ajax event="change"
                                                        listener="#{createOrderChangeDOAController.changeOwnerTypeSearch}"
                                                        process="@this" update="@([id$=pnlOwnerSearch])"/>
                                            </p:selectOneMenu>
                                        </div>
                                    </div>-->
                                    <div class="Container33 Responsive">
                                        <p:outputPanel styleClass="Container" id="pnlOwnerSearch">
                                            <p:outputPanel styleClass="Container"
                                                           rendered="#{createOrderDivideDeviceController.stockRequestDTOSearch.ownerType eq 1}">
                                                <cbs:inputShop
                                                        value="#{createOrderDivideDeviceController.shopInfoTagSearch}"
                                                        idComponent="auCplWarehouse"
                                                        id="auCplWarehouse"
                                                        forceSelection="false"
                                                        clearMethodName="clearSearchShop"
                                                        methodName="receiveSearch"
                                                        update="@([id$=pnlOwnerSearch])"
                                                        require="false"
                                                        label="#{lang['lookup.limit.stock.label.shop']}"
                                                        classDivLabel="Container40 Responsive50 pd-top-4 mg-left-15"
                                                        placeholder="#{lang['mn.stock.limit.store.code.placeholder']}"
                                                        classDivInput="Container60 Responsive50 ui-fluid"
                                                        requiredMessage="#{lang['mn.stock.limit.store.code.require.msg']}"
                                                        oncomplete="">
                                                </cbs:inputShop>
                                                <p:message for="auCplWarehouse"/>
                                            </p:outputPanel>
                                            <!--<p:outputPanel styleClass="Container"
                                                           rendered="#{createOrderDivideDeviceController.stockRequestDTOSearch.ownerType eq 2}">
                                                <cbs:inputStaff
                                                        value="#{createOrderDivideDeviceController.staffInfoTagSearch}"
                                                        id="auCplStaff"
                                                        clearMethodName="clearSearchStaff"
                                                        methodName="receiveSearch"
                                                        update="@([id$=pnlOwnerSearch])"
                                                        require="false"
                                                        label="#{lang['lookup.limit.stock.label.staff']}"
                                                        placeholder="#{lang['mn.stock.limit.staff.code.placeholder']}"
                                                        classDivLabel="Container40 pd-top-4 Responsive50 mg-left-15 AlignLb sProduct_col"
                                                        classDivInput="Container60 Responsive50 sProduct ui-fluid"
                                                        requiredMessage="#{lang['mn.stock.limit.staff.code.require.msg']}"
                                                        oncomplete=""
                                                        forceSelection="false"
                                                >
                                                </cbs:inputStaff>
                                                <p:message for="auCplStaff"/>
                                            </p:outputPanel>-->
                                        </p:outputPanel>
                                    </div>
                                </div>
                                <div class="Conatiner TexAlCenter">
                                    <p:commandButton value="#{lang['create.note.search']}"
                                                     process="@this,@([id$=pnSearch])"
                                                     actionListener="#{createOrderDivideDeviceController.doSearch}"
                                                     update="@form"/>
                                    <p:commandButton value="#{lang['common.reset']}" process="@this" update="@form"
                                                     styleClass="mg-left-5"
                                                     actionListener="#{createOrderDivideDeviceController.doResetSearch}"/>
                                    <p:commandButton value="#{lang['mn.stock.branch.btn.create.request']}"
                                                     actionListener="#{createOrderDivideDeviceController.doCreateRequest}"
                                                     process="@this" resetValues="true" update="@form"
                                                     validateClient="true" styleClass="mg-left-5"/>
                                </div>
                            </p:outputPanel>
                        </p:outputPanel>
                        <p:outputPanel id="pnListSearch" styleClass="ContainerIndent">
                            <cbs:panel classForToggle="pViewSeach" toggle="true"
                                       titleHeader="#{lang['mn.stock.list.result.search']}"/>

                            <div class="pViewSeach Container">
                                <p:dataTable
                                        id="lstStockOrderAgent"
                                        var="stockRequest"
                                        rowKey="#{stockRequest.stockRequestId}"
                                        resizableColumns="true"
                                        reflow="false"
                                        paginator="#{lang['common.paging.paginator']}"
                                        rows="#{lang['common.paging.rows.default']}"
                                        rowsPerPageTemplate="#{lang['common.paging.rowsPerPageTemplate']}"
                                        paginatorAlwaysVisible="#{lang['common.paging.paginatorAlwaysVisible']}"
                                        paginatorPosition="#{lang['common.paging.paginatorPosition']}"
                                        paginatorTemplate="#{lang['common.paging.paginatorTemplate']}"
                                        currentPageReportTemplate="#{lang['common.paging.currentPageReportTemplate']}"
                                        emptyMessage="#{lang['common.empty.records']}"
                                        selection="#{createOrderDivideDeviceController.stockRequestDTOSelect}"
                                        value="#{createOrderDivideDeviceController.lsRequestSearch}">
                                    <p:ajax update="@form" event="toggleSelect"/>
                                    <p:ajax update="@form" event="rowSelectCheckbox"/>
                                    <p:ajax update="@form" event="rowUnselectCheckbox"/>
                                    <p:column styleClass="col-left" sortBy="#{stockRequest.requestCode}">
                                        <f:facet name="header">
                                            <h:outputText
                                                    value="#{lang['stock.rescue.warranty.stock.rescue.request.code']}"
                                                    title="#{lang['stock.rescue.warranty.stock.rescue.request.code']}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{stockRequest.requestCode}"
                                                       title="#{stockRequest.requestCode}"/>
                                    </p:column>
                                    <p:column styleClass="col-left" sortBy="#{stockRequest.ownerCode}">
                                        <f:facet name="header">
                                            <h:outputText value="#{lang['mn.balance.stock.request.shop']}"
                                                          title="#{lang['mn.balance.stock.request.shop']}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{stockRequest.ownerCode}-#{stockRequest.ownerName}"
                                                       title="#{stockRequest.ownerCode}-#{stockRequest.ownerName}"/>
                                    </p:column>
                                    <p:column sortBy="#{stockRequest.statusName}">
                                        <f:facet name="header">
                                            <h:outputText value="#{lang['stock.rescue.warranty.create.status']}"
                                                          title="#{lang['stock.rescue.warranty.create.status']}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{stockRequest.statusName}"
                                                       title="#{stockRequest.statusName}"/>
                                    </p:column>
                                    <p:column sortBy="#{stockRequest.createDatetime}">
                                        <f:facet name="header">
                                            <h:outputText value="#{lang['stock.rescue.warranty.create.date']}"
                                                          title="#{lang['stock.rescue.warranty.create.date']}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{stockRequest.createDatetime}"
                                                       title="#{stockRequest.createDatetime}">
                                            <f:convertDateTime pattern="#{lang['common.datetime.format']}"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column sortBy="#{stockRequest.createUser}">
                                        <f:facet name="header">
                                            <h:outputText value="#{lang['export.order.create.whom']}"
                                                          title="#{lang['export.order.create.whom']}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{stockRequest.createUser}"/>
                                    </p:column>
                                    <p:column
                                            sortBy="#{stockRequest.signVoffice}">
                                        <f:facet name="header">
                                            <h:outputText
                                                    value="#{lang['mn.stock.utilities.status.write.voffice']}"
                                                    title="#{lang['mn.stock.utilities.status.write.voffice']}"/>
                                        </f:facet>
                                        <p:outputLabel
                                                value="#{createOrderDivideDeviceController.getDisplayName('sign.voffice',stockRequest.signVoffice)}"
                                                title="#{createOrderDivideDeviceController.getDisplayName('sign.voffice',stockRequest.signVoffice)}"/>
                                    </p:column>
                                    <p:column
                                            sortBy="#{stockRequest.note}">
                                        <f:facet name="header">
                                            <h:outputText
                                                    value="#{lang['order.divide.product.docCode']}"
                                                    title="#{lang['order.divide.product.docCode']}"/>
                                        </f:facet>
                                        <p:outputLabel
                                                value="#{stockRequest.note}"
                                                title="#{stockRequest.note}"/>
                                    </p:column>
                                    <p:column style="text-align: center">
                                        <f:facet name="header">
                                            <h:outputText value="#{lang['create.request.divide.device.detail']}"
                                                          title="#{lang['create.request.divide.device.detail']}"/>
                                        </f:facet>
                                        <p:commandLink styleClass="fa icon-zoom-in Fs16 blue icon-link"
                                                       resetValues="true"
                                                       update="@form" process="@this"
                                                       title="#{lang['common.view.detail.trans']}"
                                                       actionListener="#{createOrderDivideDeviceController.doShowInfoOrderDetail(stockRequest)}"/>
                                    </p:column>
                                    <p:column headerText="#{lang['range.time.promotion.uploadfile']}"
                                              style="width: 7%;"
                                              styleClass="TexAlCenter">
                                        <p:commandLink styleClass="fa icon-download Fs12 black"
                                                       title="#{lang['stock.export.material.filename.title']}"
                                                       ajax="false"
                                                       style="text-decoration: none!important;">
                                            <p:fileDownload
                                                    value="#{createOrderDivideDeviceController.downloadFileAttach(stockRequest)}"/>
                                        </p:commandLink>
                                    </p:column>
                                </p:dataTable>

                            </div>
                        </p:outputPanel>
                    </p:outputPanel>
                    <p:outputPanel id="viewInfor" styleClass="ContainerIndent"
                                   rendered="#{createOrderDivideDeviceController.viewDetailDivideDevice}">
                        <cbs:panel classForToggle="panelInforRequest" toggle="true"
                                   titleHeader="#{lang['mn.balance.stock.request.search']}"/>

                        <div class="Container panelInforRequest" style="margin-bottom: 10px;margin-top: 10px;">
                            <div class="ContainerIndent mg-top-0">
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                        <p:outputLabel
                                                value="#{lang['stock.rescue.warranty.stock.rescue.request.code']}"
                                                styleClass="lb-sentinel"/>
                                    </div>
                                    <div class="Container60 Responsive50 pd-top-4">
                                        <p:outputLabel
                                                value="#{createOrderDivideDeviceController.stockRequestDTOViewDetail.requestCode}"/>
                                    </div>
                                </div>
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 pd-top-4">
                                        <p:outputLabel styleClass="lb-sentinel" value="#{lang['type.stock']}"/>
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid pd-top-4">
                                        <p:outputLabel value="#{lang['stock.trans.ui.stocktype.unit']}"
                                                       rendered="#{createOrderDivideDeviceController.stockRequestDTOViewDetail.ownerType eq 1 }"/>
                                    </div>
                                </div>
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 pd-top-4">
                                        <p:outputLabel value="#{lang['common.search.shop.label']}"
                                                       rendered="#{createOrderDivideDeviceController.stockRequestDTOViewDetail.ownerType eq 1 }"/>
                                        <!--<p:outputLabel value="#{lang['common.search.shop.label']}"
                                                       rendered="#{createOrderDivideDeviceController.stockRequestDTOViewDetail.ownerType eq 2 }"/>-->
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid pd-top-4">
                                        <p:outputLabel
                                                value="#{createOrderDivideDeviceController.stockRequestDTOViewDetail.ownerCode}-#{createOrderDivideDeviceController.stockRequestDTOViewDetail.ownerName}"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </p:outputPanel>
                    <!--Start vung thong tin chi tiet hang hoa-->
                    <p:outputPanel id="pnlInfoDetailStockModel" styleClass="ContainerIndent"
                                   rendered="#{createOrderDivideDeviceController.viewDetailDivideDevice}">
                        <cbs:panel classForToggle="panelDetailStock" toggle="true"
                                   titleHeader="#{lang['create.note.detail.stock']}"/>

                        <div class="Container100 panelDetailStock" style="margin-bottom: 10px;margin-top: 10px;">
                            <p:dataTable id="lstDetailStock"
                                         var="stockTransFull"
                                         resizableColumns="true"
                                         paginator="#{lang['common.paging.paginator']}"
                                         rows="5"
                                         rowsPerPageTemplate="#{lang['common.paging.rowsPerPageTemplate']}"
                                         paginatorAlwaysVisible="#{lang['common.paging.paginatorAlwaysVisible']}"
                                         paginatorPosition="#{lang['common.paging.paginatorPosition']}"
                                         paginatorTemplate="#{lang['common.paging.paginatorTemplate']}"
                                         currentPageReportTemplate="#{lang['common.paging.currentPageReportTemplate']}"
                                         emptyMessage="#{lang['common.empty.records']}"
                                         value="#{createOrderDivideDeviceController.lsStockTransFull}">
                                <p:column style="width: 15%" styleClass="col-left"
                                          sortBy="#{stockTransFull.productOfferTypeName}">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['export.order.type.product.name']}"
                                                      title="#{lang['export.order.type.product.name']}"/>
                                    </f:facet>
                                    <p:outputLabel value="#{stockTransFull.productOfferTypeName}"
                                                   title="#{stockTransFull.productOfferTypeId}"/>
                                </p:column>
                                <p:column style="width: 15%" styleClass="col-left"
                                          sortBy="#{stockTransFull.prodOfferName}">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['export.order.name.product.type']}"
                                                      title="#{lang['export.order.name.product.type']}"/>
                                    </f:facet>
                                    <p:outputLabel value="#{stockTransFull.prodOfferName}"
                                                   title="#{stockTransFull.prodOfferName}"/>
                                </p:column>
                                <p:column styleClass="col-left" sortBy="#{stockTransFull.stateName}">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['common.status']}"
                                                      title="#{lang['common.status']}"/>
                                    </f:facet>
                                    <p:outputLabel value="#{stockTransFull.stateName}"
                                                   title="#{stockTransFull.stateName}"/>
                                </p:column>
                                <p:column styleClass="col-left" sortBy="#{stockTransFull.unit}">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['common.unit']}" title="#{lang['common.unit']}"/>
                                    </f:facet>
                                    <p:outputLabel value="#{stockTransFull.unit}" title="#{stockTransFull.unit}"/>
                                </p:column>
                                <p:column style="text-align: right" sortBy="#{stockTransFull.sourcePrice}">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['export.order.price']}"
                                                      title="#{lang['export.order.price']}"/>
                                    </f:facet>
                                    <h:outputText escape="true" converter="currencyFormat"
                                                  value="#{stockTransFull.sourcePrice}" title=""/>
                                </p:column>
                                <p:column styleClass="col-left" style=""
                                          sortBy="#{stockTransFull.accountingModelCode}">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['export.order.code.TC']}"
                                                      title="#{lang['export.order.code.TC']}"/>
                                    </f:facet>
                                    <p:outputLabel value="#{stockTransFull.accountingModelCode}"
                                                   title="#{stockTransFull.accountingModelCode}"/>
                                </p:column>
                                <p:column style="text-align: right" sortBy="#{stockTransFull.quantity}">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['common.number']}"
                                                      title="#{lang['common.number']}"/>
                                    </f:facet>
                                    <h:outputText escape="true" converter="currencyFormat"
                                                  value="#{stockTransFull.quantity}"
                                                  title="#{stockTransFull.quantity}"/>
                                </p:column>
                                <p:column style="text-align: center">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['common.view.detail']}"
                                                      title="#{lang['common.view.detail']}"/>
                                    </f:facet>
                                    <p:commandLink styleClass="fa icon-zoom-in Fs16 blue icon-link"
                                                   resetValues="true"
                                                   update="@([id$=dlgDeviceConfgiDetailView])" process="@this"
                                                   title="#{lang['common.view.detail']}"
                                                   oncomplete="PF('dlgDeviceConfgiDetailView').show()"
                                                   actionListener="#{createOrderDivideDeviceController.preToShowDeviceConfig(stockTransFull.prodOfferId, stockTransFull.stateId)}">
                                    </p:commandLink>
                                </p:column>
                                <p:column style="text-align: center;">
                                    <f:facet name="header">
                                        <h:outputText value="#{lang['common.serial.detail']}"
                                                      title="#{lang['common.serial.detail']}"/>
                                    </f:facet>
                                    <p:commandLink styleClass="fa icon-zoom-in Fs16 blue icon-link" resetValues="true"
                                                   rendered="#{stockTransFull.checkSerial eq '1'}"
                                                   update="@([id$=dlgSerialView])" process="@this"
                                                   oncomplete="PF('dlgSerialView').show();"
                                                   title="#{lang['create.note.detail.serial']}"
                                                   actionListener="#{createOrderDivideDeviceController.doShowViewSerial(stockTransFull.stockTransDetailId)}"/>

                                </p:column>
                            </p:dataTable>
                        </div>
                    </p:outputPanel>
                    <p:outputPanel styleClass="ContainerIndent TexAlCenter mg-top-0"
                                   rendered="#{createOrderDivideDeviceController.viewDetailDivideDevice}">
                        <p:commandButton value="#{lang['common.back.page']}"
                                         process="@this"
                                         update="@form"
                                         actionListener="#{createOrderDivideDeviceController.doBackPage}">
                        </p:commandButton>
                    </p:outputPanel>
                    <!--End vung thong tin chi tiet hang hoa-->
                </p:outputPanel>
                <!--End vung thong tin giao dich-->
            </p:outputPanel>
            <!--Start vung thong tin Danh sach hang hoa-->
            <p:outputPanel rendered="#{!createOrderDivideDeviceController.showSearch}" >
                <p:tabView id="numberTabView" dynamic="true" styleClass="abc"
                           tabindex="#{createOrderDivideDeviceController.tabIndex}">
                    <p:ajax event="tabChange" listener="#{createOrderDivideDeviceController.onTabChange}" resetValues="true"
                            update="@([id$=pnlRequestBalance]), @([id$=pnlRequestBalanceImport])"/>
                    <p:tab id="tabInput" title="#{lang['im.number.assign.status.by.normal']}">
                        <p:outputPanel styleClass="Container" id="pnlRequestBalance">
                        <div class="ContainerIndent mg-top-0 mg-bottom-0">
                            <p:messages id="msgSearch" showSummary="false" showDetail="true" closable="true"/>
                        </div>
                        <p:outputPanel styleClass="Container" id="pnCreateRequest">
                            <p:focus for="pnCreateRequest"/>
                            <!--Start vung thong tin don vi-->
                            <p:outputPanel id="pnInfoRequestBalance" styleClass="ContainerIndent">
                                <cbs:panel classForToggle="panelInforRequest" toggle="true"
                                           titleHeader="#{lang['mn.balance.stock.request.search']}"/>

                                <div class="Container panelInforRequest" style="margin-bottom: 10px;margin-top: 10px;">
                                    <div class="ContainerIndent mg-top-0">
                                        <div class="Container33 Responsive">
                                            <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                                <p:outputLabel
                                                        value="#{lang['stock.rescue.warranty.stock.rescue.request.code']}"
                                                        for="txtCode" styleClass="lb-sentinel"/>
                                            </div>
                                            <div class="Container60 Responsive50 ui-fluid ui-relative pd-top-4">
                                                <h:outputText id="txtCode"
                                                              value="#{createOrderDivideDeviceController.stockRequestDTOSelect.requestCode}"
                                                              escape="true" styleClass="lb-sentinel-bold break-all">
                                                </h:outputText>
                                                <p:commandLink id="btnResetRequestCode" styleClass="ui-link-right"
                                                               update="@this, @([id$=txtCode])"
                                                               actionListener="#{createOrderDivideDeviceController.resetRequestCode}"
                                                               process="@this">
                                                    <span class="ui-icon ui-c fa icon-ccw Fs12"/>
                                                </p:commandLink>
                                            </div>
                                        </div>
                                        <div class="Container33 Responsive">
                                            <div class="Container40 Responsive50 mg-left-15 ui-fluid pd-top-7">
                                                <p:outputLabel styleClass="lb-sentinel"
                                                               value="#{lang['type.stock']}"
                                                               for="cobTypeWarehouse"/>
                                            </div>
                                            <div class="Container60 Responsive50 ui-fluid">
                                                <p:selectOneMenu id="cobTypeWarehouse"
                                                                 disabled="true">
                                                    <f:selectItem itemLabel="#{lang['stock.trans.ui.stocktype.unit']}"
                                                                  itemValue="1"/>
                                                    <!--<f:selectItem itemLabel="#{lang['stock.trans.ui.stocktype.staff']}"
                                                                  itemValue="2"/>
                                                    <p:ajax event="change"
                                                            listener="#{createOrderChangeDOAController.changeOwnerTypeInput}"
                                                            process="@this" update="@([id$=pnlOwner])"/>-->
                                                </p:selectOneMenu>
                                            </div>
                                        </div>
                                        <div class="Container33 Responsive">
                                            <p:outputPanel styleClass="Container " id="pnlOwner">
                                                <p:outputPanel styleClass="Container"
                                                               rendered="#{createOrderDivideDeviceController.stockRequestDTOSelect.ownerType eq 1}">
                                                    <cbs:inputShop
                                                            value="#{createOrderDivideDeviceController.shopInfoTag}"
                                                            idComponent="auCplWarehouse2"
                                                            id="auCplWarehouse2"
                                                            forceSelection="false"
                                                            clearMethodName="clearShop"
                                                            methodName="receiveNormal"
                                                            update="@([id$=pnlOwner])"
                                                            require="false"
                                                            label="#{lang['lookup.limit.stock.label.shop']}"
                                                            classDivLabel="Container40 Responsive50 pd-top-4 mg-left-15"
                                                            placeholder="#{lang['mn.stock.limit.store.code.placeholder']}"
                                                            classDivInput="Container60 Responsive50 ui-fluid"
                                                            requiredMessage="#{lang['mn.stock.limit.store.code.require.msg']}"
                                                            oncomplete="">
                                                    </cbs:inputShop>
                                                    <p:message for="auCplWarehouse2"/>
                                                </p:outputPanel>
                                                <!--<p:outputPanel styleClass="Container"
                                                               rendered="#{createOrderDivideDeviceController.stockRequestDTOSelect.ownerType eq 2}">
                                                    <cbs:inputStaff value="#{createOrderDivideDeviceController.staffInfoTag}"
                                                                    id="auCplStaff2"
                                                                    clearMethodName="clearInputStaff"
                                                                    methodName="receiveInput"
                                                                    update="@([id$=pnlListProduct])"
                                                                    require="false"
                                                                    label="#{lang['lookup.limit.stock.label.staff']}"
                                                                    placeholder="#{lang['mn.stock.limit.staff.code.placeholder']}"
                                                                    classDivLabel="Container40 pd-top-4 Responsive50 mg-left-15 AlignLb sProduct_col"
                                                                    classDivInput="Container60 Responsive50 sProduct ui-fluid"
                                                                    requiredMessage="#{lang['mn.stock.limit.staff.code.require.msg']}"
                                                                    oncomplete=""
                                                                    forceSelection="false"
                                                    >
                                                    </cbs:inputStaff>
                                                    <p:message for="auCplStaff2"/>
                                                </p:outputPanel>-->
                                            </p:outputPanel>
                                        </div>
                                    </div>

                                    <div class="ContainerIndent mg-top-0">
                                        <p:outputPanel styleClass="Container33 Responsive">
                                            <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                                <p:outputLabel styleClass="lb-sentinel" for="codeDoc"
                                                               value="#{lang['order.divide.product.docCode']}">
                                                    <span style="color: red"><h:outputText
                                                            value="&#160;&#160;"/>*</span>
                                                </p:outputLabel>

                                            </div>
                                            <div class="Container60 Responsive50 ui-fluid">
                                                <p:inputText id="codeDoc"
                                                             maxlength="50"
                                                             value="#{createOrderDivideDeviceController.stockRequestDTOSelect.note}">
                                                    <p:ajax process="@this" />
                                                </p:inputText>
                                            </div>
                                        </p:outputPanel>
                                        <p:outputPanel styleClass="Container33 Responsive" id="divFileNameProject">
                                            <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                                <p:outputLabel styleClass="lb-sentinel" for="outputAttachFileProject"
                                                               value="#{lang['create.request.divide.device.docs']}"/>
                                            </div>
                                            <div class="Container60 Responsive50 ui-fluid">
                                                <p:inputText id="outputAttachFileProject" styleClass="outputAttachFile"
                                                             maxlength="100" required="true"
                                                             requiredMessage="#{lang['mn.stock.limit.attachFile.msg.require']}"
                                                             placeholder="#{lang['search.number.range.input.fileName']}"
                                                             value="#{createOrderDivideDeviceController.docsInput}"
                                                             readonly="true"/>
                                            </div>
                                        </p:outputPanel>
                                        <div class="Container33 Responsive">
                                            <p:fileUpload id="upLoadFileProject"
                                                          styleClass="fileDataUpload Fleft"
                                                          label="#{lang['select.file']}"
                                                          invalidFileMessage="#{lang['mn.stock.utilities.invalid.file.type']}"
                                                          requiredMessage="#{lang['mn.stock.limit.attachFile.msg.require']}"
                                                          invalidSizeMessage="#{lang['common.file.allow.excel.max.size.desc']}"
                                                          fileLimitMessage="#{lang['common.file.allow.excel.max.size.desc']}"
                                                          update="@([id$=divFileNameProject]),@([id$=msgSearch])"
                                                          dragDropSupport="true" required="true" mode="advanced"
                                                          auto="true"
                                                          process="@this"
                                                          allowTypes="/(\.|\/)(pdf)$/"
                                                          sizeLimit="15728640"
                                                          value="#{createOrderDivideDeviceController.uploadedFileDoc}"
                                                          fileUploadListener="#{createOrderDivideDeviceController.doUploadDocs}">
                                            </p:fileUpload>
                                        </div>
                                    </div>
                                </div>
                            </p:outputPanel>
                            <!--End vung thong tin don vi-->
                            <!--Start vung thong tin mat hang-->
                            <p:outputPanel id="pnlListProduct">
                                <p:outputPanel styleClass="Container" rendered="#{createOrderDivideDeviceController.showListProduct}">
                                    <cbs:inputListProductWarranty idComponent="listProduct"
                                                          id="listProduct"
                                                          value="#{createOrderDivideDeviceController.listProductTag}"
                                                          idMessage="msgValidate"
                                                          updateCheckSerial="@([id$=dlgDetailSerial]), @([id$=pnlRequestBalance])"
                                                          onCompleteCheckSerial="if(!args.validationFailed){PF('dlgDetailSerial').show()}"/>
                                </p:outputPanel>
                            </p:outputPanel>
                            <!--End vung thong tin mat hang-->
                            <!--Start vung thong tin ky view office-->
                            <p:outputPanel id="pnlOffice" styleClass="Container">
                                <p:outputPanel styleClass="Container">
                                    <cbs:inputSignOffice value="#{createOrderDivideDeviceController.writeOfficeTag}"
                                                         title="#{lang['export.order.view.office']}"
                                                         idComponent="writeOfficeExport"/>
                                </p:outputPanel>
                            </p:outputPanel>

                            <!--Start Vung data button-->
                            <div class="Container">
                                <div class="ContainerIndent TexAlCenter mg-top-0">
                                    <!--<cbs:confirmDialog
                                            idComponent="btnSend"
                                            disableButton="#{createOrderDivideDeviceController.disableChangeDivideDevice}"
                                            id="btnSend"
                                            valueButton="#{lang['create.order.divide.device.createRequest']}"
                                            headerConfirm="#{lang['create.request.divide.device.header']}"
                                            messageConfirm="#{lang['create.request.divide.device.confirm']}"
                                            actionOK="#{createOrderDivideDeviceController.doChangeRequest}"
                                            resetValueButton="false"
                                            process="@this, @([id$=upLoadFileProject]), @([id$=pnlOffice]), @([id$=upLoadFileProject])"
                                            updateArea="@([id$=pnlRequestBalance])"
                                            updateOK="@([id$=pnlRequestBalance])"
                                            focusCancel="false"
                                            actionValidate=""
                                            oncompleteOK=""
                                            isButton="true"
                                    />-->
                                    <p:commandButton
                                            oncomplete="if(!args.validationFailed){PF('btnSendDlg').show();setTimeout('setFocusForButtonYes()',350)}"
                                            update="@([id$=pnlRequestBalance])"
                                            process="@this, @([id$=upLoadFileProject]), @([id$=pnlOffice]), @([id$=upLoadFileProject])"
                                            resetValues="false"
                                            value="#{lang['create.order.divide.device.createRequest']}"
                                            disabled="#{createOrderDivideDeviceController.disableChangeDivideDevice}"
                                            action="#{createOrderDivideDeviceController.doValidRequest}"
                                            id="btnSend"/>
                                    <p:confirmDialog closeOnEscape="true" closable="true"
                                                     appendTo="@(body)"
                                                     widgetVar="btnSendDlg"
                                                     header="#{lang['create.request.divide.device.header']}"
                                                     id="btnSendDlg"
                                                     width="550"
                                                     message="#{lang['create.request.divide.device.confirm']}">
                                        <p:commandLink value="#{lang['common.button.NO']}" styleClass="md-button" process="@none" onstart="PF('btnSendDlg').hide();"  />
                                        <p:commandLink process="@this" id="btnYesConfirm"  update="@([id$=pnlRequestBalance])" value="#{lang['common.button.YES']}" styleClass="md-button btnYesConfirm" onstart="PF('btnSendDlg').hide();"
                                                       oncomplete="" resetValues="false"
                                                       actionListener="#{createOrderDivideDeviceController.doChangeRequest}"/>
                                    </p:confirmDialog>
                                    <p:commandButton value="#{lang['reset.selected']}"
                                                     process="@this"
                                                     update="@([id$=pnlRequestBalance])"
                                                     styleClass="mg-left-5"
                                                     actionListener="#{createOrderDivideDeviceController.doResetRequest}">
                                    </p:commandButton>
                                    <p:commandButton value="#{lang['common.back.page']}"
                                                     process="@this"
                                                     update="@form"
                                                     styleClass="mg-left-5"
                                                     actionListener="#{createOrderDivideDeviceController.doBackPage}">
                                    </p:commandButton>
                                </div>
                            </div>
                            <!--End Vung data button-->
                        </p:outputPanel>
                    </p:outputPanel>
                    </p:tab>
                    <p:tab id="tabFile" title="#{lang['im.number.assign.status.by.file']}">
                        <p:outputPanel styleClass="Container" id="pnlRequestBalanceImport">
                            <div class="ContainerIndent mg-top-0 mg-bottom-0">
                                <p:messages id="msgExportFile" showSummary="false" showDetail="true" closable="true"/>
                            </div>
                            <p:outputPanel styleClass="Container" id="pnCreateRequestImport">
                                <!--Start vung thong tin don vi-->
                                <p:outputPanel id="pnInfoRequestBalanceImport" styleClass="ContainerIndent">
                                    <cbs:panel classForToggle="panelInforRequest" toggle="true"
                                               titleHeader="#{lang['mn.balance.stock.request.search']}"/>

                                    <div class="Container panelInforRequest" style="margin-bottom: 10px;margin-top: 10px;">
                                        <div class="ContainerIndent mg-top-0">
                                            <div class="Container33 Responsive">
                                                <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                                    <p:outputLabel
                                                            value="#{lang['stock.rescue.warranty.stock.rescue.request.code']}"
                                                            for="txtCodeImport" styleClass="lb-sentinel"/>
                                                </div>
                                                <div class="Container60 Responsive50 ui-fluid ui-relative pd-top-4">
                                                    <h:outputText id="txtCodeImport"
                                                                  value="#{createOrderDivideDeviceController.stockRequestDTOSelectFile.requestCode}"
                                                                  escape="true" styleClass="lb-sentinel-bold break-all">
                                                    </h:outputText>
                                                    <p:commandLink id="btnResetRequestCodeImport" styleClass="ui-link-right"
                                                                   update="@this, @([id$=txtCodeImport])"
                                                                   actionListener="#{createOrderDivideDeviceController.resetRequestCode}"
                                                                   process="@this">
                                                        <span class="ui-icon ui-c fa icon-ccw Fs12"/>
                                                    </p:commandLink>
                                                </div>
                                            </div>
                                            <div class="Container33 Responsive">
                                                <div class="Container40 Responsive50 mg-left-15 ui-fluid pd-top-7">
                                                    <p:outputLabel styleClass="lb-sentinel"
                                                                   value="#{lang['type.stock']}"
                                                                   for="cobTypeWarehouseImport"/>
                                                </div>
                                                <div class="Container60 Responsive50 ui-fluid">
                                                    <p:selectOneMenu id="cobTypeWarehouseImport"
                                                                     disabled="true">
                                                        <f:selectItem itemLabel="#{lang['stock.trans.ui.stocktype.unit']}"
                                                                      itemValue="1"/>
                                                        <!--<f:selectItem itemLabel="#{lang['stock.trans.ui.stocktype.staff']}"
                                                                      itemValue="2"/>
                                                        <p:ajax event="change"
                                                                listener="#{createOrderChangeDOAController.changeOwnerTypeInput}"
                                                                process="@this" update="@([id$=pnlOwner])"/>-->
                                                    </p:selectOneMenu>
                                                </div>
                                            </div>
                                            <div class="Container33 Responsive">
                                                <p:outputPanel styleClass="Container " id="pnlOwnerImport">
                                                    <p:outputPanel styleClass="Container"
                                                                   rendered="#{createOrderDivideDeviceController.stockRequestDTOSelectFile.ownerType eq 1}">
                                                        <cbs:inputShop
                                                                value="#{createOrderDivideDeviceController.shopInfoTagImport}"
                                                                idComponent="auCplWarehouse2Import"
                                                                id="auCplWarehouse2Import"
                                                                forceSelection="false"
                                                                clearMethodName="clearShopImport"
                                                                methodName="receiveImport"
                                                                update="@([id$=pnlOwnerImport])"
                                                                require="false"
                                                                label="#{lang['lookup.limit.stock.label.shop']}"
                                                                classDivLabel="Container40 Responsive50 pd-top-4 mg-left-15"
                                                                placeholder="#{lang['mn.stock.limit.store.code.placeholder']}"
                                                                classDivInput="Container60 Responsive50 ui-fluid"
                                                                requiredMessage="#{lang['mn.stock.limit.store.code.require.msg']}"
                                                                oncomplete="">
                                                        </cbs:inputShop>
                                                        <p:message for="auCplWarehouse2Import"/>
                                                    </p:outputPanel>
                                                    <!--<p:outputPanel styleClass="Container"
                                                                   rendered="#{createOrderDivideDeviceController.stockRequestDTOSelect.ownerType eq 2}">
                                                        <cbs:inputStaff value="#{createOrderDivideDeviceController.staffInfoTag}"
                                                                        id="auCplStaff2"
                                                                        clearMethodName="clearInputStaff"
                                                                        methodName="receiveInput"
                                                                        update="@([id$=pnlListProduct])"
                                                                        require="false"
                                                                        label="#{lang['lookup.limit.stock.label.staff']}"
                                                                        placeholder="#{lang['mn.stock.limit.staff.code.placeholder']}"
                                                                        classDivLabel="Container40 pd-top-4 Responsive50 mg-left-15 AlignLb sProduct_col"
                                                                        classDivInput="Container60 Responsive50 sProduct ui-fluid"
                                                                        requiredMessage="#{lang['mn.stock.limit.staff.code.require.msg']}"
                                                                        oncomplete=""
                                                                        forceSelection="false"
                                                        >
                                                        </cbs:inputStaff>
                                                        <p:message for="auCplStaff2"/>
                                                    </p:outputPanel>-->
                                                </p:outputPanel>
                                            </div>
                                        </div>
                                        <div class="ContainerIndent mg-top-0">
                                            <p:outputPanel styleClass="Container33 Responsive">
                                                <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                                    <p:outputLabel styleClass="lb-sentinel" for="codeDocImport"
                                                                   value="#{lang['order.divide.product.docCode']}">
                                                        <span style="color: red"><h:outputText
                                                                value="&#160;&#160;"/>*</span>
                                                    </p:outputLabel>
                                                </div>
                                                <div class="Container60 Responsive50 ui-fluid">
                                                    <p:inputText id="codeDocImport"
                                                                 maxlength="50"
                                                                 value="#{createOrderDivideDeviceController.stockRequestDTOSelectFile.note}">
                                                        <p:ajax process="@this" />
                                                    </p:inputText>
                                                </div>
                                            </p:outputPanel>
                                            <p:outputPanel styleClass="Container33 Responsive" id="divFileNameProjectImport">
                                                <div class="Container40 Responsive50 mg-left-15 pd-top-4">
                                                    <p:outputLabel styleClass="lb-sentinel" for="outputAttachFileProjectImport"
                                                                   value="#{lang['create.request.divide.device.docs']}"/>
                                                </div>
                                                <div class="Container60 Responsive50 ui-fluid">
                                                    <p:inputText id="outputAttachFileProjectImport" styleClass="outputAttachFile"
                                                                 maxlength="100" required="true"
                                                                 requiredMessage="#{lang['mn.stock.limit.attachFile.msg.require']}"
                                                                 placeholder="#{lang['search.number.range.input.fileName']}"
                                                                 value="#{createOrderDivideDeviceController.docsInput}"
                                                                 readonly="true"/>
                                                </div>
                                            </p:outputPanel>
                                            <div class="Container33 Responsive">
                                                <p:fileUpload id="upLoadFileProjectImport"
                                                              styleClass="fileDataUpload Fleft"
                                                              label="#{lang['select.file']}"
                                                              invalidFileMessage="#{lang['mn.stock.utilities.invalid.file.type']}"
                                                              requiredMessage="#{lang['mn.stock.limit.attachFile.msg.require']}"
                                                              invalidSizeMessage="#{lang['common.file.allow.excel.max.size.desc']}"
                                                              fileLimitMessage="#{lang['common.file.allow.excel.max.size.desc']}"
                                                              update="@([id$=divFileNameProjectImport]),@([id$=msgExportFile])"
                                                              dragDropSupport="true" required="true" mode="advanced"
                                                              auto="true"
                                                              process="@this"
                                                              allowTypes="/(\.|\/)(pdf)$/"
                                                              sizeLimit="15728640"
                                                              value="#{createOrderDivideDeviceController.uploadedFileDoc}"
                                                              fileUploadListener="#{createOrderDivideDeviceController.doUploadDocs}">
                                                </p:fileUpload>
                                            </div>
                                        </div>
                                        <p:outputPanel id="pnImport">
                                            <p:outputPanel class="ContainerIndent" rendered="#{createOrderDivideDeviceController.showListProduct}">
                                                <p:outputPanel styleClass="Container33 Responsive" id="divFileName">
                                                    <div class="Container40 Responsive50 mg-left-15 pd-top-7"
                                                         style="margin-top: 20px">
                                                        <p:outputLabel styleClass="lb-sentinel" for="outputAttachFile"
                                                                       value="#{lang['attach.file']}"/>
                                                    </div>
                                                    <div class="Container60 Responsive50 ui-fluid" style="margin-top: 20px">
                                                        <p:inputText id="outputAttachFile" styleClass="outputAttachFile"
                                                                     maxlength="100" required="true"
                                                                     placeholder="#{lang['search.number.range.input.fileName']}"
                                                                     value="#{createOrderDivideDeviceController.attachFileName}"
                                                                     readonly="true"/>
                                                    </div>
                                                </p:outputPanel>

                                                <div class="Container33 Responsive">
                                                    <p:fileUpload id="upLoadFile"
                                                                  styleClass="Fleft"
                                                                  label="#{lang['select.file']}"
                                                                  invalidFileMessage="#{lang['mn.stock.limit.importFile.msg.format']}"
                                                                  requiredMessage="#{lang['mn.stock.limit.attachFile.msg.require']}"
                                                                  invalidSizeMessage="#{lang['common.file.allow.excel.max.size.desc']}"
                                                                  fileLimitMessage="#{lang['common.file.allow.excel.max.size.desc']}"
                                                                  update="@([id$=divFileName]), @([id$=lstPreviewFile]), @([id$=btnPreviewFile]),@([id$=pnViewFile]), @([id$=divDownloadFile]),@([id$=msgExportFile]), @([id$=btnSendRequestImportbtn])"
                                                                  dragDropSupport="true" required="true" mode="advanced"
                                                                  auto="true"
                                                                  process="@this"
                                                                  allowTypes="/(\.|\/)(xls|xlsx)$/"
                                                                  sizeLimit="5242880"
                                                                  value="#{createOrderDivideDeviceController.uploadedFile}"
                                                                  fileUploadListener="#{createOrderDivideDeviceController.doFileUploadAction}">
                                                    </p:fileUpload>
                                                </div>
                                                <p:outputPanel id="divDownloadFile" class="Container33">
                                                    <p:commandLink
                                                            id="downloadTemplateBtn"
                                                            value="#{lang['mn.stock.status.isdn.update.status.file_template']}"
                                                            title="#{lang['create.note.download.file.title']}"
                                                            ajax="false"
                                                            immediate="true">
                                                        <p:fileDownload
                                                                value="#{createOrderDivideDeviceController.downloadFileTemplate()}"/>
                                                    </p:commandLink>
                                                    <p:commandLink
                                                            id="downloadErrBtn" styleClass="mg-left-5" process="@this"
                                                            value="#{lang['mn.stock.status.isdn.update.status.file_error']}"
                                                            rendered="#{createOrderDivideDeviceController.showDownResult}"
                                                            title="#{lang['create.note.download.file.title']}"
                                                            ajax="false"
                                                            immediate="true" style="color: #e90c45!important;">
                                                        <p:fileDownload
                                                                value="#{createOrderDivideDeviceController.prepareDownloadFileResult()}"/>
                                                    </p:commandLink>
                                                </p:outputPanel>
                                                <p:outputPanel styleClass="ContainerIndent TexAlCenter" id="pnViewFile">
                                                </p:outputPanel>
                                            </p:outputPanel>
                                        </p:outputPanel>
                                            <!--</div>
                                        </p:outputPanel>-->
                                    </div>
                                </p:outputPanel>
                                <!--End vung thong tin don vi-->
                                <!--Start vung thong tin mat hang-->
                                <!--<p:outputPanel id="pnlListProduct">
                                    <div class="Container">
                                        <cbs:inputListProduct idComponent="listProduct"
                                                              id="listProduct"
                                                              value="#{createOrderDivideDeviceController.listProductTag}"
                                                              idMessage="msgValidate"
                                                              updateCheckSerial="@([id$=dlgDetailSerial]), @([id$=pnCreateRequest])"
                                                              onCompleteCheckSerial="if(!args.validationFailed){PF('dlgDetailSerial').show()}"/>
                                    </div>-->
                                <!--</p:outputPanel>-->
                                <!--End vung thong tin mat hang-->
                                <!--Start vung thong tin ky view office-->
                                <p:outputPanel id="pnlOfficeImport" styleClass="Container">
                                    <p:outputPanel styleClass="Container">
                                        <cbs:inputSignOffice value="#{createOrderDivideDeviceController.writeOfficeTagFile}"
                                                             title="#{lang['export.order.view.office']}"
                                                             idComponent="writeOfficeExportImport"/>
                                    </p:outputPanel>
                                </p:outputPanel>

                                <p:outputPanel id="pnLstProduct" styleClass="ContainerIndent">
                                    <cbs:panel classForToggle="panelInforRequest" toggle="true"
                                               titleHeader="#{lang['export.order.view.list.product']}"/>

                                    <div class="Container panelInforRequest" style="margin-bottom: 10px;margin-top: 10px;">
                                        <div class="ContainerIndent">
                                            <p:dataTable
                                                    id="lstPreviewFile"
                                                    var="preview"
                                                    value="#{createOrderDivideDeviceController.previewFileClone}"
                                                    rowIndexVar="index"
                                                    rowKey="#{index}"
                                                    resizableColumns="true"
                                                    paginator="#{lang['common.paging.paginator']}"
                                                    rows="#{lang['common.paging.rows.default']}"
                                                    rowsPerPageTemplate="#{lang['common.paging.rowsPerPageTemplate']}"
                                                    paginatorAlwaysVisible="#{lang['common.paging.paginatorAlwaysVisible']}"
                                                    paginatorPosition="#{lang['common.paging.paginatorPosition']}"
                                                    paginatorTemplate="#{lang['common.paging.paginatorTemplate']}"
                                                    currentPageReportTemplate="#{lang['common.paging.currentPageReportTemplate']}"
                                                    emptyMessage="#{lang['common.empty.records']}">

                                                <p:column headerText="#{lang['order.divide.product.code']}"
                                                          sortBy="#{preview.productCode}">
                                                    <p:outputLabel
                                                            value="#{preview.productCode}"
                                                            title="#{preview.productCode}"/>
                                                </p:column>
                                                <p:column headerText="#{lang['order.divide.product.status']}"
                                                          sortBy="#{preview.status}">
                                                    <p:outputLabel
                                                            value="#{preview.status}"
                                                            title="#{preview.status}"/>
                                                </p:column>
                                                <p:column headerText="#{lang['order.divide.product.serial']}"
                                                          sortBy="#{preview.serial}">
                                                    <p:outputLabel
                                                            value="#{preview.serial}"
                                                            title="#{preview.serial}"/>
                                                </p:column>
                                                <p:column headerText="#{lang['create.request.divide.device.item']}"
                                                          sortBy="#{preview.itemCode}">
                                                    <p:outputLabel
                                                            value="#{preview.itemCode}"
                                                            title="#{preview.itemCode}"/>
                                                </p:column>
                                                <p:column headerText="#{lang['create.request.divide.device.item.status']}"
                                                          sortBy="#{preview.itemStatus}">
                                                    <p:outputLabel
                                                            value="#{preview.itemStatus}"
                                                            title="#{preview.itemStatus}"/>
                                                </p:column>
                                            </p:dataTable>
                                        </div>
                                    </div>
                                </p:outputPanel>

                                <!--Start Vung data button-->
                                <div class="Container">
                                    <div class="ContainerIndent TexAlCenter mg-top-0">
                                        <p:commandButton value="#{lang['see.previous']}"
                                                         process="@this"
                                                         id="btnPreviewFile"
                                                         update="@([id$=lstPreviewFile])"
                                                         style="margin-right: 10px"
                                                         actionListener="#{createOrderDivideDeviceController.doShowPreview}"
                                                         disabled="#{!createOrderDivideDeviceController.showPreview}"/>
                                        <cbs:confirmDialog
                                                idComponent="btnSendRequestImport"
                                                disableButton="#{createOrderDivideDeviceController.disableChangeDivideDevice}"
                                                id="btnSendRequestImport"
                                                valueButton="#{lang['create.order.divide.device.createRequest']}"
                                                headerConfirm="#{lang['create.request.divide.device.header']}"
                                                messageConfirm="#{lang['create.request.divide.device.confirm']}"
                                                actionOK="#{createOrderDivideDeviceController.doImportDivide}"
                                                resetValueButton="false"
                                                process="@this, @([id$=pnlOfficeImport]), @([id$=upLoadFileProjectImport])"
                                                updateArea="@this, @([id$=pnlOfficeImport]), @([id$=msgExportFile])"
                                                updateOK="@form"
                                                focusCancel="false"
                                                actionValidate="#{createOrderDivideDeviceController.validateBeforeOrder}"
                                                oncompleteOK=""
                                                isButton="true"
                                        />
                                        <p:commandButton value="#{lang['reset.selected']}"
                                                         process="@this"
                                                         update="@([id$=pnlRequestBalanceImport]), @([id$=msgExportFile])"
                                                         styleClass="mg-left-5"
                                                         actionListener="#{createOrderDivideDeviceController.doResetRequestImport}">
                                        </p:commandButton>
                                        <p:commandButton value="#{lang['common.back.page']}"
                                                         process="@this"
                                                         update="@form"
                                                         styleClass="mg-left-5"
                                                         actionListener="#{createOrderDivideDeviceController.doBackPage}">
                                        </p:commandButton>
                                    </div>
                                </div>
                                <!--End Vung data button-->
                            </p:outputPanel>
                        </p:outputPanel>
                    </p:tab>
                </p:tabView>
            </p:outputPanel>
            <!--End vung thong tin danh sach hang hoa-->
            <script type="text/javascript">
                document.getElementById('frmChangeDOA').onkeypress = function (event) {
                    if (event.keyCode == 120 &amp;&amp; document.getElementById('frmChangeDOA:listProduct:listProductAddNew') != null) {
                        document.getElementById("frmChangeDOA:listProduct:listProductAddNew").click();
                        return false;
                    }
                }
                function setFocusForButtonYes () {
                    console.log('gfgfdggf');
                    setFocusByClass('btnYesConfirm');
                }
            </script>
        </h:form>
        <p:dialog appendTo="@(body)"
                  closable="true"
                  closeOnEscape="true"
                  maximizable="true"
                  position="center"
                  id="dlgDetailSerial"
                  widgetVar="dlgDetailSerial"
                  header="#{lang['create.note.detail.serial']}"
                  modal="true" resizable="false"
                  dynamic="true"
                  styleClass="sale"
                  width="900">
            <ui:include src="../../../../../resources/tags/dlgDetailSerial.xhtml">
                <ui:param name="controller" value="#{createOrderDivideDeviceController.listProductTag}"/>
                <ui:param name="idComponent" value="listProduct"/>
            </ui:include>
        </p:dialog>
        <p:dialog appendTo="@(parent)"
                  closable="true"
                  closeOnEscape="true"
                  maximizable="true"
                  onShow="setFocusByClass('btnCloseView')"
                  position="center"
                  id="dlgSerialView"
                  widgetVar="dlgSerialView"
                  header="#{lang['stock.trans.search.serial.stock']}"
                  modal="true" resizable="false"
                  dynamic="true"
                  styleClass="sale"
                  width="900">
            <p:outputPanel styleClass="ContainerIndent" id="pnViewListSerial">
                <cbs:panel classForToggle="lstOrderExport" titleHeader="#{lang['mn.stock.ToSerial']}" toggle="false"/>

                <div class="Container100 lstDataExport">
                    <p:dataTable
                            value="#{createOrderDivideDeviceController.lsSerial}"
                            var="serialDetail"
                            resizableColumns="true"
                            paginator="false"
                            rowIndexVar="index"
                            scrollable="true"
                            scrollHeight="150"
                            emptyMessage="#{lang['common.empty.records']}">
                        <p:column styleClass="col-left" sortBy="#{lang['mn.stock.fromSerial']}">
                            <f:facet name="header">
                                <h:outputText value="#{lang['mn.stock.fromSerial']}"
                                              title="#{lang['mn.stock.fromSerial']}"/>
                            </f:facet>
                            <h:outputText escape="true" value="#{serialDetail.fromSerial}"
                                          title="#{serialDetail.fromSerial}"/>
                        </p:column>
                        <p:column styleClass="col-left" sortBy="#{lang['mn.stock.ToSerial']}">
                            <f:facet name="header">
                                <h:outputText value="#{lang['mn.stock.ToSerial']}"
                                              title="#{lang['mn.stock.ToSerial']}"/>
                            </f:facet>
                            <h:outputText escape="true" value="#{serialDetail.toSerial}"
                                          title="#{serialDetail.toSerial}"/>
                        </p:column>
                        <p:column styleClass="col-left" sortBy="#{serialDetail.quantity}">
                            <f:facet name="header">
                                <h:outputText value="#{lang['common.number']}" title="#{lang['common.number']}"/>
                            </f:facet>
                            <h:outputText escape="true" value="#{serialDetail.quantity}"
                                          title="#{serialDetail.quantity}" converter="currencyFormat"/>
                        </p:column>
                    </p:dataTable>
                </div>
            </p:outputPanel>

            <div class="ContainerIndent TexAlCenter">
                <p:commandButton value="#{lang['notification.close']}" immediate="true" styleClass="btnCloseView"
                                 oncomplete="PF('dlgSerialView').hide()"/>
            </div>
        </p:dialog>
        <p:dialog appendTo="@(parent)"
                  closable="true"
                  closeOnEscape="true"
                  maximizable="true"
                  onShow="setFocusByClass('btnCloseView')"
                  position="center"
                  id="dlgDeviceConfgiDetailView"
                  widgetVar="dlgDeviceConfgiDetailView"
                  header="#{lang['deviceConfig.detail.header']}"
                  modal="true" resizable="false"
                  dynamic="true"
                  styleClass="sale"
                  width="900">
            <ui:include src="dialog/dlgDetailDeviceConfig.xhtml">
                <ui:param name="lstDeviceConfig" value="#{createOrderDivideDeviceController.listAddDeviceConfigDetail}"/>
            </ui:include>
        </p:dialog>
    </ui:define>
</ui:composition>
