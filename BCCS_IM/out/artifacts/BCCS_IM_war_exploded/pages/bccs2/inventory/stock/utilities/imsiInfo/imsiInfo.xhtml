<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:cbs="http://java.sun.com/jsf/composite/tags"
      xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition template="../../../../sentinel/template.xhtml">
    <ui:define name="title">#{lang['mn.stock.utilities.imsi.range']}</ui:define>
    <ui:define name="content">
        <h:form id="frmSearch">
            <p:outputPanel styleClass="container100">
                <p:outputPanel id="pnUnderSearch">
                    <div class="ContainerIndent">
                        <p:messages id="messages" for="frmSearch" globalOnly="true" showSummary="false" showDetail="true" closable="true"/>
                    </div>
                    <!--Start vung nhap thong tin chi tiet-->
                    <p:outputPanel id="pnInfoSearch" styleClass="ContainerIndent">
                        <cbs:panel classForToggle="panelInforExport"
                                   toggle="true"
                                   titleHeader="#{lang['mn.stock.limit.inputDetail']}"/>

                        <div class="Container100 panelInforExport" style="margin-bottom: 10px;margin-top: 10px;">
                            <div class="ContainerIndent mg-top-0">
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 mg-left-15 pd-top-7">
                                        <p:outputLabel styleClass="lb-sentinel"
                                                       value="#{lang['imsi.info.imsi.from']}"/>
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid ui-tooltip-fluid">
                                        <p:inputText
                                                id="imsiFrom"
                                                maxlength="15"
                                                value="#{imsiInfoController.imsiInfoInputSearch.imsiFrom}">
                                            <p:ajax event="change" process="@this"
                                                    listener="#{imsiInfoController.onChangeImsiFrom('frmSearch:imsiFrom')}"/>
                                        </p:inputText>
                                        <p:message for="imsiFrom"/>
                                    </div>
                                </div>
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 mg-left-15 pd-top-7">
                                        <p:outputLabel styleClass="lb-sentinel"
                                                       value="#{lang['imsi.info.imsi.to']}"/>
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid ui-tooltip-fluid">
                                        <p:inputText
                                                id="imsiTo"
                                                maxlength="15"
                                                value="#{imsiInfoController.imsiInfoInputSearch.imsiTo}">
                                            <p:ajax event="change" process="@this"
                                                    listener="#{imsiInfoController.onChangeImsiTo('frmSearch:imsiTo')}"/>
                                        </p:inputText>
                                        <p:message for="imsiTo"/>
                                    </div>
                                </div>
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 mg-left-15 pd-top-7">
                                        <p:outputLabel styleClass="lb-sentinel" value="#{lang['imsi.info.doc.no']}"/>
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid">
                                        <p:inputText
                                                id="docNo"
                                                maxlength="50"
                                                converter="stringTrimmer"
                                                value="#{imsiInfoController.imsiInfoInputSearch.docNo}">
                                        </p:inputText>
                                        <p:message for="docNo"/>
                                    </div>
                                </div>

                            </div>

                            <div class="ContainerIndent mg-top-0">
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 mg-left-15 pd-top-7">
                                        <p:outputLabel styleClass="lb-sentinel"
                                                       value="#{lang['imsi.info.start.date']}"/>
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid ui-tooltip-fluid">
                                        <p:calendar
                                                mask="true"
                                                pattern="#{lang['common.datetime.format']}"
                                                converterMessage="#{lang['imsi.info.start.date.invalid']}"
                                                validatorMessage="#{lang['imsi.info.start.date.invalid']}"
                                                value="#{imsiInfoController.imsiInfoInputSearch.fromDate}"
                                                placeholder="#{lang['common.datetime.format']}"
                                                required="false"
                                                id="fromDate">
                                            <f:convertDateTime type="date" pattern="#{lang['common.datetime.format']}"/>
                                        </p:calendar>
                                        <p:message for="fromDate"/>
                                    </div>
                                </div>
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 mg-left-15 pd-top-7">
                                        <p:outputLabel styleClass="lb-sentinel"
                                                       value="#{lang['imsi.info.end.date']}"/>
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid ui-tooltip-fluid">
                                        <p:calendar
                                                mask="true"
                                                pattern="#{lang['common.datetime.format']}"
                                                converterMessage="#{lang['imsi.info.end.date.invalid']}"
                                                validatorMessage="#{lang['imsi.info.end.date.invalid']}"
                                                value="#{imsiInfoController.imsiInfoInputSearch.toDate}"
                                                placeholder="#{lang['common.datetime.format']}"
                                                required="false"
                                                id="toDate">
                                            <f:convertDateTime type="date" pattern="#{lang['common.datetime.format']}"/>
                                        </p:calendar>
                                        <p:message for="toDate"/>
                                    </div>
                                </div>
                                <div class="Container33 Responsive">
                                    <div class="Container40 Responsive50 mg-left-15 pd-top-7">
                                        <p:outputLabel styleClass="lb-sentinel" value="#{lang['common.status']}"/>
                                    </div>
                                    <div class="Container60 Responsive50 ui-fluid">
                                        <p:selectOneMenu id="status"
                                                         value="#{imsiInfoController.imsiInfoInputSearch.status}">
                                            <f:selectItem itemLabel="#{lang['mn.stock.status.select']}"/>
                                            <f:selectItem itemLabel="#{lang['imsi.info.status.1']}"
                                                          itemValue="1"/>
                                            <f:selectItem itemLabel="#{lang['imsi.info.status.2']}"
                                                          itemValue="2"/>
                                            <f:selectItem itemLabel="#{lang['imsi.info.status.3']}"
                                                          itemValue="3"/>
                                            <f:selectItem itemLabel="#{lang['imsi.info.status.4']}"
                                                          itemValue="4"/>
                                        </p:selectOneMenu>
                                    </div>
                                </div>
                            </div>
                            <div class="Container100 TexAlCenter">
                                <p:commandButton styleClass="mg-left-5"
                                                 validateClient="true"
                                                 value="#{lang['common.button.search']}" process="@form"
                                                 update="@([id$=frmSearch]),@([id$=lstImsiInfo])"
                                                 actionListener="#{imsiInfoController.search}"/>

                                <p:commandButton value="#{lang['common.reset']}"
                                                 actionListener="#{imsiInfoController.resetSearchFrom()}"
                                                 process="@this"
                                                 update="@form"
                                                 validateClient="true"
                                                 styleClass="mg-left-5"/>
                            </div>
                        </div>
                    </p:outputPanel>
                    <!--End vung nhap thong tin chi tiet-->

                    <!--Start vung lịch sử tạo dải số-->
                    <p:outputPanel id="pnLstSearch" styleClass="ContainerIndent">
                        <cbs:panel classForToggle="panelListOrderExport"
                                   toggle="true"
                                   titleHeader="#{lang['mn.stock.list.result.search']}"/>
                        <p:commandLink
                                value="#{lang['imsi.info.create']}"
                                update="dlgCreateImsiInfo"
                                resetValues="true"
                                actionListener="#{imsiInfoController.onCreate()}"
                                oncomplete="PF('dlgCreateImsiInfo').show();"
                                style="" styleClass="fa icon-plus Fs14 blue md-link"
                        />

                        <p:commandLink
                                value="#{lang['imsi.info.delete']}" process="@form"
                                update="dlgDeleteImsiInfo"
                                resetValues="true"
                                actionListener="#{imsiInfoController.onDelete()}"
                                oncomplete="PF('dlgDeleteImsiInfo').show();"
                                style="" styleClass="fa  icon-trash Fs14 blue md-link"
                        />

                        <div class="Container100 panelListOrderExport">
                            <div class="ContainerIndent">
                                <p:dataTable
                                        id="lstImsiInfo"
                                        var="imsiInfo"
                                        rowKey=""
                                        rowIndexVar="index"
                                        resizableColumns="true"
                                        paginator="#{lang['common.paging.paginator']}"
                                        rows="#{lang['common.paging.rows.default']}"
                                        rowsPerPageTemplate="#{lang['common.paging.rowsPerPageTemplate']}"
                                        paginatorAlwaysVisible="true"
                                        paginatorPosition="#{lang['common.paging.paginatorPosition']}"
                                        paginatorTemplate="#{lang['common.paging.paginatorTemplate']}"
                                        currentPageReportTemplate="#{lang['common.paging.currentPageReportTemplate']}"
                                        emptyMessage="#{lang['common.empty.records']}"
                                        value="#{imsiInfoController.imsiInfoDTOs}">
                                    <p:column headerText="STT" styleClass="" style="width: 4%;">
                                        #{index+1}
                                    </p:column>
                                    <p:column headerText="#{lang['imsi.info.imsi.from']}"
                                              sortBy="#{imsiInfo.fromImsi}"
                                              style="width: 22%">
                                        <p:outputLabel
                                                value="#{imsiInfo.fromImsi}"
                                                style="text-align: left"
                                                title="#{imsiInfo.fromImsi}"
                                        >
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="#{lang['imsi.info.imsi.to']}"
                                              sortBy="#{imsiInfo.toImsi}"
                                              style="width: 25%">
                                        <p:outputLabel value="#{imsiInfo.toImsi}"
                                                       style="text-align: left"
                                                       title="#{imsiInfo.toImsi}"
                                        >
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="#{lang['imsi.info.total']}"
                                              sortBy="#{imsiInfo.quantity}"
                                              style="width: 20%">
                                        <p:outputLabel value="#{imsiInfo.quantity}"
                                                       style="text-align: left"
                                                       title="#{imsiInfo.quantity}">
                                                    <f:convertNumber pattern="#,###"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="#{lang['imsi.info.start.date']}"
                                              sortBy="#{imsiInfo.startDate}"
                                              style="width: 20%;">
                                        <p:outputLabel value="#{imsiInfo.startDate}" style="text-align: left"
                                                       title="#{imsiInfo.startDate}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="#{lang['imsi.info.end.date']}"
                                              sortBy="#{imsiInfo.endDate}"
                                              style="width: 20%;">
                                        <p:outputLabel value="#{imsiInfo.endDate}" style="text-align: left"
                                                       title="#{imsiInfo.endDate}">
                                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="#{lang['imsi.info.doc.no']}"
                                              sortBy="#{imsiInfo.docNo}"
                                              style="width: 15%">
                                        <p:outputLabel
                                                value="#{imsiInfo.docNo}"
                                                style="text-align: left"
                                                title="#{imsiInfo.docNo}"
                                        >
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="#{lang['common.status']}"
                                              sortBy="#{imsiInfo.status}"
                                              style="width: 15%">
                                        <p:outputLabel
                                                value="#{imsiInfoController.getStatusName(imsiInfo.status)}"
                                                style="text-align: left"
                                                title="#{imsiInfoController.getStatusName(imsiInfo.status)}"
                                        >
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="#{lang['imsi.info.effect']}"
                                              style="width: 25%;text-align: center">
                                        <p:commandLink styleClass="fa  icon-edit Fs14 blue "
                                                       process="@this"
                                                       disabled="#{imsiInfo.status != '1'}"
                                                       update="dlgUpdateImsiInfo"
                                                       resetValues="true"
                                                       actionListener="#{imsiInfoController.onUpdate(imsiInfo)}"
                                                       oncomplete="PF('dlgUpdateImsiInfo').show();"
                                        >
                                        </p:commandLink>
                                    </p:column>
                                </p:dataTable>
                            </div>
                        </div>
                    </p:outputPanel>
                    <!--End vung lịch sử tạo dải số-->
                </p:outputPanel>
            </p:outputPanel>
        </h:form>
        <p:dialog appendTo="@(body)"
                  closable="true"
                  closeOnEscape="true"
                  maximizable="true"
                  position="center"
                  id="dlgCreateImsiInfo"
                  widgetVar="dlgCreateImsiInfo"
                  header="#{imsiInfoController.dlgTitle}"
                  modal="true" resizable="false"
                  dynamic="true"
                  styleClass="sale"
                  width="70%">
            <ui:include src="dlgCreateImsiInfo.xhtml"/>
        </p:dialog>

        <p:dialog appendTo="@(body)"
                  closable="true"
                  closeOnEscape="true"
                  maximizable="true"
                  position="center"
                  id="dlgDeleteImsiInfo"
                  widgetVar="dlgDeleteImsiInfo"
                  header="#{imsiInfoController.dlgTitle}"
                  modal="true" resizable="false"
                  dynamic="true"
                  styleClass="sale"
                  width="70%">
            <ui:include src="dlgDeleteImsiInfo.xhtml"/>
        </p:dialog>

        <p:dialog appendTo="@(body)"
                  closable="true"
                  closeOnEscape="true"
                  maximizable="true"
                  position="center"
                  id="dlgUpdateImsiInfo"
                  widgetVar="dlgUpdateImsiInfo"
                  header="#{imsiInfoController.dlgTitle}"
                  modal="true" resizable="false"
                  dynamic="true"
                  styleClass="sale"
                  width="70%">
            <ui:include src="dlgUpdateImsiInfo.xhtml"/>
        </p:dialog>
    </ui:define>
</ui:composition>
</html>
